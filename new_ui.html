<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="page_title">Batelco Business Services</title>
  <link rel="stylesheet" href="/styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">
</head>

<body>
  <!-- Top Navigation -->
  <nav class="top-nav">
    <div class="top-nav-links">
      <a href="#" data-i18n="personal">Personal</a>
      <a href="#" class="active" data-i18n="business">Business</a>
      <a href="#" data-i18n="global">Global</a>
      <a href="#" data-i18n="about">About Us</a>
    </div>
    <div class="top-nav-utility">
      <a href="#" data-i18n="support">Support</a>
      <a href="#" data-i18n="account">My Account</a>
      <a href="#" data-i18n="quickpay">Quick Pay</a>
      <a href="#" id="lang-btn" onclick="toggleLanguage(); return false;">ÿπÿ±ÿ®Ÿä</a>

    </div>
  </nav>

  <!-- Main Navigation -->
  <nav class="main-nav">
    <div class="logo">
      <img src="images/batelco_logo.png" alt="Batelco Logo" />
    </div>
    <div class="main-nav-links">
      <div class="dropdown-container">
        <a href="new_ui.html" id="productsTab" data-i18n="products">Products</a>
        <div id="productDropdown" class="dropdown hidden">
          <ul id="families" class="dropdown-families"></ul>
          <div id="subItems" class="dropdown-subitems"></div>
        </div>
      </div>
      <a href="#" data-i18n="latest_offers">Latest Offers</a>
      <a href="business_onboarding.html" data-i18n="onboarding">Business Onboarding</a>
      <a href="#" data-i18n="business_support">Business Support</a>
    </div>
    <div class="search-icon" id="searchIcon">üîç</div>
  </nav>

  <!-- Banner -->
  <div class="banner">
    <div class="banner-image"></div>
    <div class="banner-image"></div>
    <div class="banner-image"></div>
    <div class="banner-image"></div>
    <div class="banner-image"></div>
  </div>

  <!-- Filter Buttons -->
  <section>
    <div class="filter-buttons">
      <button data-filter="all" onclick="filterServices('all')" class="active" data-i18n="filter_all">All</button>
      <button data-filter="sme" onclick="filterServices('sme')" data-i18n="filter_sme">SMEs</button>
      <button data-filter="enterprise" onclick="filterServices('enterprise')"
        data-i18n="filter_enterprise">Enterprise</button>
    </div>
  </section>

    <section class="services">
      <!-- SME -->
      <div class="service-card" data-type="sme">
        <div class="service-icon">
          <img src="images/bulk_sms.png" alt="Bulk Sms" />
        </div>
        <div class="service-content">
          <h2>Bulk SMS</h2>
          <p>Fast, Reliable & Scalable<br />Bulk Messaging Platform</p>
          <button
            class="view-more-btn"
            onclick="window.location.href='product_details.html'"
          >
            View more
          </button>
        </div>
      </div>

      <!-- Enterprise -->
      <div class="service-card" data-type="enterprise">
        <div class="service-icon datacenter">
          <img src="images/data-center.png" alt="Data Center" />
        </div>
        <div class="service-content">
          <h2>Datacenter Colocation</h2>
          <p>Built for uptime, Ready for<br />anything</p>
          <button
            class="view-more-btn"
            onclick="window.location.href='product_details.html'"
          >
            View more
          </button>
        </div>
      </div>

      <!-- Enterprise -->
      <div class="service-card" data-type="enterprise">
        <div class="service-icon continuity">
          <img src="images/business.png" alt="Business Continuity" />
        </div>
        <div class="service-content">
          <h2>Business Continuity</h2>
          <p>Keep operations running‚Äî<br />no matter what</p>
          <button
            class="view-more-btn"
            onclick="window.location.href='product_details.html'"
          >
            View more
          </button>
        </div>
      </div>

      <div class="service-card" data-type="enterprise">
        <div class="service-icon continuity">
          <img src="images/automation.png" alt="ELV" />
        </div>
        <div class="service-content">
          <h2>ELV</h2>
          <p>
            Power your property with smart, low-voltage systems‚Äîseamless
            security, connectivity, and control for modern living and business
            efficiency
          </p>
          <button
            class="view-more-btn"
            onclick="window.location.href='product_details.html'"
          >
            View more
          </button>
        </div>
      </div>

      <!-- SME -->
      <div class="service-card" data-type="sme">
        <div class="service-icon fleet">
          <img src="images/gps.png" alt="Fleet Management" />
        </div>
        <div class="service-content">
          <h2>Fleet Management</h2>
          <p>Stay in control of every<br />vehicle, every mile</p>
          <button
            class="view-more-btn"
            onclick="window.location.href='product_details.html'"
          >
            View more
          </button>
        </div>
      </div>

      <!-- Enterprise -->
      <div class="service-card" data-type="enterprise">
        <div class="service-icon continuity">
          <img src="images/business.png" alt="Connectivity Solution" />
        </div>
        <div class="service-content">
          <h2>Connectivity Solution</h2>
          <p>Customize your Private connection<br />keep away intruders</p>
          <button
            class="view-more-btn"
            onclick="window.location.href='product_details.html'"
          >
            View more
          </button>
        </div>
      </div>

      <!-- SME -->
      <div class="service-card" data-type="sme">
        <div class="service-icon fleet">
          <img src="images/phone-ringing.png" alt="The Hive" />
        </div>
        <div class="service-content">
          <h2>The Hive</h2>
          <p>Stay Connected<br />easy communication</p>
          <button
            class="view-more-btn"
            onclick="window.location.href='product_details.html'"
          >
            View more
          </button>
        </div>
      </div>
    </section>

<!-- Chat Support Button -->
<div class="chat-support">
  <img src="images/basma.png" alt="basma logo" />
</div>

<script src="https://unpkg.com/lucide@latest"></script>
<script>
  document
    .getElementById('searchIcon')
    .addEventListener('click', function () {
      window.location.href = 'search.html'
    })
  const families = [
    {
      title: 'Security',
      icon: 'shield-check',
      subItems: [{ name: 'Managed Firewall' }]
    },
    {
      title: 'Smart Solutions',
      icon: 'sparkles',
      subItems: [
        { name: 'Managed Wifi' },
        { name: 'Interactive Smart Board' },
        { name: 'Digital Screen' },
        { name: 'ELV' },
        { name: 'Home Automation' },
        { name: 'Fleet Management' }
      ]
    },
    {
      title: 'Messaging',
      icon: 'message-circle',
      subItems: [{ name: 'Telegram' }, { name: 'Bulk SMS' }]
    },
    {
      title: 'Hosting',
      icon: 'database',
      subItems: [
        { name: 'Email' },
        { name: 'Datacenter Colocation' },
        { name: 'Business Continuity' }
      ]
    },
    {
      title: 'Connectivity & Internet',
      icon: 'wifi',
      subItems: [
        { name: 'Fiber Broadband' },
        { name: 'IPVPN/MPLS' },
        { name: 'SD-WAN' }
      ]
    },
    {
      title: 'Voice Communication',
      icon: 'phone',
      subItems: [
        { name: 'Unified Communication' },
        { name: 'Cloud UC' },
        { name: 'Fixed Voice' },
        { name: 'ISDN, PSTN, SIP' }
      ]
    },
    {
      title: 'Mobile',
      icon: 'smartphone',
      subItems: [
        { name: 'Business Postpaid' },
        { name: 'Business Broadband' },
        { name: 'Business M2M' }
      ]
    }
  ]

  const productsTab = document.getElementById('productsTab')
  const productDropdown = document.getElementById('productDropdown')
  const familiesList = document.getElementById('families')
  const subItemsList = document.getElementById('subItems')

  // Dropdown functionality
  productsTab.addEventListener('mouseenter', () => {
    productDropdown.classList.remove('hidden')
  })

  productDropdown.addEventListener('mouseleave', () => {
    productDropdown.classList.add('hidden')
  })

  function renderFamilies() {
    familiesList.innerHTML = families
      .map(
        (fam, idx) => `
                <li class="dropdown-item" onmouseenter="renderSubItems(${idx})">
                    <i data-lucide="${fam.icon}"></i> ${fam.title}
                </li>
            `
      )
      .join('')
    lucide.createIcons()
  }

  function renderSubItems(idx) {
    subItemsList.innerHTML = families[idx].subItems
      .map(
        (sub) => `
                <div class="subitem">${sub.name}</div>
            `
      )
      .join('')
  }

  renderFamilies()

  document.querySelectorAll('.tab').forEach((tab) => {
    const target = tab.dataset.target

    const container = document.getElementById(`${target}-container`)
    const dropdown = document.getElementById(`dropdown-${target}`)
    const familiesList = document.getElementById(`families-${target}`)
    const subItemsList = document.getElementById(`subitems-${target}`)

    container.addEventListener('mouseenter', () => {
      dropdown.classList.remove('hidden')
    })

    container.addEventListener('mouseleave', () => {
      dropdown.classList.add('hidden')
      subItemsList.innerHTML = ''
    })

    // Render families
    familiesList.innerHTML = ''
    families.forEach((fam, idx) => {
      const li = document.createElement('li')
      li.className = 'dropdown-item'
      li.innerHTML = `<i data-lucide="${fam.icon}"></i> ${fam.title}`
      li.addEventListener('mouseenter', () => {
        subItemsList.innerHTML = fam.subItems
          .map(
            (sub) => `
                <div class="subitem">${sub.name}</div>
            `
          )
          .join('')
      })
      familiesList.appendChild(li)
    })

    // Re-render icons
    lucide.createIcons()
  })
</script>
<script>
  function filterServices(type) {
    const cards = document.querySelectorAll('.service-card')
    const buttons = document.querySelectorAll('.filter-buttons button')

    // Update cards
    cards.forEach((card) => {
      const cardType = card.getAttribute('data-type')
      if (type === 'all' || cardType === type) {
        card.classList.remove('hidden')
      } else {
        card.classList.add('hidden')
      }
    })

    // Update button styling
    buttons.forEach((btn) => btn.classList.remove('active'))
    document
      .querySelector(`.filter-buttons button[data-filter="${type}"]`)
      ?.classList.add('active')
  }



  let currentLang = 'en';
  const originalTexts = {};

  // Save original (English) text content on page load
  function cacheOriginalText() {
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      originalTexts[key] = el.innerHTML;
    });
  }

  async function setLanguage(lang) {
    if (lang === 'ar') {
      try {
        const response = await fetch('./locales/ar.json');
        const translations = await response.json();

        document.documentElement.lang = 'ar';
        document.documentElement.dir = 'rtl';
        document.body.style.fontFamily = "'Cairo', sans-serif";

        document.querySelectorAll('[data-i18n]').forEach(el => {
          const key = el.getAttribute('data-i18n');
          const html = translations[key];
          if (html) {
            el.innerHTML = html;
          }
        });

        document.getElementById('lang-btn').textContent = 'English';
      } catch (err) {
        console.error('Failed to load Arabic translations:', err);
      }
    } else {
      // Restore original English from cache
      document.documentElement.lang = 'en';
      document.documentElement.dir = 'ltr';
      document.body.style.fontFamily = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";

      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (originalTexts[key]) {
          el.innerHTML = originalTexts[key];
        }
      });

      document.getElementById('lang-btn').textContent = 'ÿπÿ±ÿ®Ÿä';
    }

    currentLang = lang;
  }

  function toggleLanguage() {
    const newLang = currentLang === 'en' ? 'ar' : 'en';
    setLanguage(newLang);
  }

  window.addEventListener('DOMContentLoaded', () => {
    cacheOriginalText();     // save English text from HTML
    setLanguage(currentLang); // load default language (en)
  });


</script>
</body>

</html>